AIPRO人工标注平台 - 任务管理中心 P0需求文档

版本：v1.0
更新时间：2025-11-11


一、页面整体布局

1.1 顶部操作区

左侧功能区：
搜索框：支持任务名称、描述、创建人的模糊搜索
占位符："搜索任务名称、描述、创建人..."
实时搜索：输入即搜索（防抖 300ms）
搜索范围：任务名称、任务描述、创建人姓名

筛选器组：
任务状态：下拉多选（进行中/已完成/已暂停）
任务类型：下拉单选（全部/单次任务/周期任务）
数据类型：下拉单选（全部/对话标注）
时间范围：日期范围选择器
重置按钮：一键清空所有筛选条件


二、任务列表展示

2.1 卡片视图（默认布局）

网格布局：每行显示2-3个任务卡片
响应式：桌面端3列、平板端2列、移动端1列


2.2 任务卡片结构

卡片头部：
任务名称 + 状态徽章（进行中/已完成/已暂停）
创建人：XXX | 创建时间：YYYY-MM-DD

状态徽章样式：
进行中：绿色背景
已完成：蓝色背景
已暂停：灰色背景


卡片主体（左右两栏）：

左侧 60% - 任务配置信息：
数据信息
- 数据类型：对话标注
- 数据来源：质检消息表
- 数据源：微信渠道 + 王者荣耀（+2个）[点击展开查看全部]
- 时间范围：2025-01-01 ~ 2025-01-31
- 会话数量：1,200 条

标注配置：
- 标注类型：错误码标注

人员分配：
- 标注人员：张三、李四、王五（3人）
- 分配方式：交叉标注

右侧 40% - 进度统计：
整体进度显示：
进度条：67%
总数：1,200
已完成：804
进行中：156
待标注：240

时间信息：
截止日期：2025-02-15
剩余时间：15天


卡片底部 - 标注员进度（可折叠）：

默认折叠，点击展开/收起

张三：进度条 75% (300/400)
李四：进度条 60% (240/400)
王五：进度条 68% (272/400)

提交状态：
✅ 已提交：张三、李四（2人）
⏰ 未提交：王五（1人）

交互说明：
已提交人员显示绿色勾选图标
未提交人员显示橙色时钟图标


卡片操作区：

快速操作菜单（右上角三点）：
查看详情
暂停任务（进行中状态）
继续任务（已暂停状态）
删除任务

主操作按钮（卡片底部）：

进行中状态：
主按钮：进入标注 - 跳转到标注工作台
次要按钮：查看详情

已完成状态：
主按钮：查看统计 - 查看任务完成情况
次要按钮：导出结果

已暂停状态：
主按钮：继续任务
次要按钮：查看详情


三、任务详情弹窗

3.1 弹窗布局

顶部标题栏：
任务详情：AI客服质量检查 [状态徽章] [关闭按钮]


3.2 标签页结构

5个Tab可切换：基本信息 | 进度详情 | 提交情况 | [数据统计] | [周期管理]
（括号内为备注示例，请自行截图补充）


Tab 1：基本信息

【任务基本信息】
任务名称：AI客服质量检查
任务描述：系统自动生成的质检任务...
数据类型：对话标注
创建人：charliazhang
创建时间：2025-08-20 10:00:00
截止日期：2025-09-05 18:00:00

【数据来源配置】
数据库：质检消息表
数据源组合：
- 微信渠道 + 王者荣耀
- 微信渠道 + 和平精英
- QQ渠道 + 王者荣耀
时间范围：2025-08-01 ~ 2025-08-31
任务类型：单次任务
会话数量：1,200 条（实际导入：1,186条）

【标注配置】
标注类型：错误码标注

【人员分配】
标注人员：张三、李四、王五（3人）
分配方式：交叉标注
每人分配：400 条（预估）


Tab 2：进度详情

【整体进度统计】

整体完成进度
进度条显示：67%
总数：1,200 条
已完成：804 条
进行中：156 条
待标注：240 条

【标注员详细进度】

[卡片布局1]
张三（高级质检员）
进度条：75% (300/400)
已完成：300 条
进行中：50 条
待标注：50 条
平均耗时：2.5 分钟/条
提交状态：✅ 已提交（2025-08-26 10:30）

[卡片布局2]
李四（质检员）
进度条：60% (240/400)
已完成：240 条
进行中：80 条
待标注：80 条
平均耗时：3.2 分钟/条
提交状态：✅ 已提交（2025-08-26 14:20）

[卡片布局3]
王五（质检员）
进度条：68% (272/400)
已完成：272 条
进行中：48 条
待标注：80 条
平均耗时：2.8 分钟/条
提交状态：⏰ 未提交


Tab 3：提交情况

【标注员提交状态汇总】

提交进度数据：
✅ 已提交：2 人
⏰ 未提交：1 人
提交进度条：67%

【详细提交记录】

[已提交卡片1]
✅ 张三
提交时间：2025-08-26 10:30:00
完成进度：300/400 (75%)
标注质量：优秀

[已提交卡片2]
✅ 李四
提交时间：2025-08-26 14:20:00
完成进度：240/400 (60%)
标注质量：良好

[未提交卡片]
⏰ 王五
提交状态：未提交
当前进度：272/400 (68%)
预计完成：2025-08-27
[催促提交] 按钮

温馨提示：当所有标注员都提交后，任务将自动标记为完成状态。

催促提交功能：
点击"催促提交"按钮向未提交的标注员发送站内通知
通知内容："您的标注任务【任务名称】已接近完成，请尽快提交！"


3.3 弹窗底部操作区

操作按钮：
[关闭] - 关闭弹窗
[查看详情] - 查看完整信息
[进入标注] - 跳转到标注工作台（仅进行中任务）
[导出报告] - 导出任务报告（PDF/Excel）


四、任务状态管理

4.1 状态流转

创建 → 进行中 → 已完成
       ↓  ↑
      已暂停

状态说明：

进行中：
条件：任务创建后自动进入
特征：标注员可以标注，进度实时更新
可操作：暂停、删除、查看、导出

已暂停：
条件：管理员手动暂停
特征：标注员无法继续标注，进度冻结
可操作：继续、删除、查看
可恢复：点击"继续任务"

已完成：
条件：所有标注员都已提交标注结果时自动完成
特征：不可再标注，只能查看统计和导出
可操作：查看、导出


4.2 权限控制

查看详情：任务创建人 ✅ | 管理员 ✅ | 标注员 ✅（仅自己参与的）
进入标注：任务创建人 ✅ | 管理员 ✅ | 标注员 ✅（仅自己被分配的）
暂停任务：任务创建人 ✅ | 管理员 ✅ | 标注员 ❌
删除任务：任务创建人 ✅ | 管理员 ✅ | 标注员 ❌
导出报告：任务创建人 ✅ | 管理员 ✅ | 标注员 ❌


五、批量操作功能

5.1 批量选择

卡片左上角显示复选框
支持全选/取消全选功能
显示已选择数量："已选择 3 个任务"


5.2 批量操作菜单

批量暂停：
条件：选中的任务必须都是"进行中"状态
确认：确定要暂停选中的 3 个任务吗？
结果：状态更新为"已暂停"

批量删除：
条件：任何状态都可删除
确认：确定要删除选中的 3 个任务吗？此操作不可恢复。
二次确认：输入"确认删除"文本后才能删除
结果：任务从列表中移除

导出任务列表：
格式：Excel (.xlsx) / CSV (.csv)
包含内容：
- 任务基本信息（名称、描述、创建人、创建时间）
- 任务配置（数据类型、数据来源、标注类型）
- 进度统计（总数、已完成、进度百分比）
- 人员信息（标注员列表、分配方式）
- 时间信息（截止日期、剩余天数）
文件命名：任务列表_YYYYMMDD_HHMMSS.xlsx


六、任务搜索与筛选

6.1 搜索功能

搜索框：
位置：页面顶部左侧
实时搜索：输入即搜索（防抖 300ms）
搜索范围：
- 任务名称（模糊匹配）
- 任务描述（模糊匹配）
- 创建人姓名（模糊匹配）


6.2 筛选器

任务状态筛选：
类型：下拉多选
选项：进行中、已完成、已暂停
默认：全部选中

任务类型筛选：
类型：下拉单选
选项：全部、单次任务、周期任务
默认：全部

数据类型筛选：
类型：下拉单选
选项：全部、对话标注
默认：全部

时间范围筛选：
类型：日期范围选择器
维度：任务创建时间
快捷选项：今天、最近7天、最近30天、最近90天、自定义范围

筛选逻辑：
多个筛选条件之间是 AND 关系（同时满足）
搜索 + 筛选：先筛选再搜索
重置筛选：一键清空所有条件


七、任务排序

排序选项：

排序下拉菜单位置：筛选器右侧

排序方式：
创建时间（最新优先）← 默认
创建时间（最早优先）
截止日期（临近优先）
截止日期（最远优先）
任务进度（高到低）
任务进度（低到高）
任务名称（A-Z）
任务名称（Z-A）

排序交互：
选择后立即生效
当前排序方式显示在按钮上
卡片视图和表格视图共享排序状态


八、分页与加载

8.1 分页控件

位置：页面底部中央

分页信息：
显示："共 156 个任务，显示第 1-20 个"
每页数量选择：10 / 20 / 50 / 100
默认：20 条/页

分页按钮：
首页 | 上一页 | 1 | 2 | 3 | ... | 下一页 | 尾页
当前页高亮显示


8.2 加载状态

初始加载：显示骨架屏（Skeleton）
翻页加载：显示加载遮罩
无数据：显示空状态提示 + "创建第一个任务"按钮
错误状态：显示错误提示 + "重新加载"按钮


九、数据导出功能

9.1 单个任务报告导出

导出格式：
PDF（推荐，用于打印和分享）
Excel（用于数据分析）

导出内容：
任务基本信息：名称、描述、创建人、创建时间、截止日期
数据来源详情：数据库、数据源组合、时间范围
整体进度统计：总数、已完成、进行中、待标注
标注员详细进度：每个标注员的进度条、完成数、待标注数
提交情况统计：已提交人数、未提交人数、提交进度
数据分析图表：[示例]（需自行截图补充）

触发位置：
任务卡片操作菜单 > 导出数据
任务详情弹窗底部 > 导出报告


9.2 批量导出

支持导出范围：
当前筛选结果
选中的任务
全部任务

触发位置：顶部批量操作菜单 > 导出任务列表


十、状态变化与交互

10.1 任务暂停流程

用户操作：点击"暂停任务"或快速菜单中的暂停
确认弹窗：确定要暂停这个任务吗？暂停后标注员将无法继续标注。
状态变更：任务状态由"进行中"变为"已暂停"
UI变化：
- 状态徽章变为灰色
- 进度条冻结
- 按钮变为"继续任务"
- 标注员无法进入标注工作台
提示反馈：显示 Toast："任务已暂停"


10.2 任务删除流程

用户操作：点击快速菜单中的"删除任务"
第一次确认：确定要删除这个任务吗？此操作不可恢复，所有标注数据将被删除。
二次确认：输入"确认删除"文本后显示"确认删除"按钮
状态变更：任务从列表中移除
提示反馈：显示 Toast："任务已删除"


10.3 标注员提交流程

前置条件：标注员完成自己分配的所有标注（进度达到100%）
标注工作台触发：弹出确认提交弹窗
标注员操作：点击"确认提交"
状态更新：
- 该标注员的提交状态变为"已提交" ✅
- 提交时间记录
- 任务详情弹窗的提交情况Tab实时更新
自动完成逻辑：
- 系统检查所有标注员的提交状态
- 如果全部已提交，任务自动变为"已完成"状态
- 发送通知给任务创建人："您的任务【任务名称】所有标注员已提交，任务已自动完成"


十一、用户体验细节

11.1 操作反馈

所有异步操作显示 Loading 状态
操作成功显示 Toast 提示（自动消失）
操作失败显示错误信息和重试选项

按钮状态：
Hover：背景色变深
Active：轻微缩放动画
Disabled：灰色显示，禁用点击


11.2 确认对话框

危险操作（删除）：红色强调
二次确认：重要操作需要输入确认文本

按钮标准：
[取消] 按钮：白色背景
[确认] 按钮：蓝色背景（默认）或红色背景（删除操作）


11.3 空状态设计

无任务：
显示空状态插图
提示文字："暂无任务数据"
引导按钮："创建第一个任务"

无搜索结果：
显示空状态插图
提示文字："未找到匹配的任务"
建议："尝试其他关键词或清空筛选条件"
[清空筛选] 按钮

无标注员：
显示空状态插图
提示文字："该任务暂无标注员"
[分配标注员] 按钮


十二、任务列表数据字段说明

任务ID：唯一标识符
任务名称：创建时输入
任务描述：创建时输入
数据类型：对话标注
数据来源：质检消息表
数据源：渠道+游戏ID组合
时间范围：创建时设定的日期区间
会话数量：实际导入的数据量
任务类型：单次任务或周期任务
任务状态：进行中/已完成/已暂停
创建人：任务创建者用户名
创建时间：YYYY-MM-DD HH:MM:SS格式
截止日期：任务完成的期限日期
总标注数：数据总量
已完成数：已标注完成的数量
进行中数：正在标注的数量
待标注数：还未开始标注的数量
完成进度：已完成数 / 总数 = 百分比
标注人员：分配给该任务的标注员列表
分配方式：交叉标注或分散标注
提交状态：各标注员的提交情况
平均耗时：标注员平均每条数据的耗时（分钟）
提交时间：标注员确认提交的时间戳


十三、API数据交互

获取任务列表：
请求：GET /api/tasks
参数：page、pageSize、search、status、taskType、dataType、dateRange、sortBy、sortOrder
返回：{ data: Task[], total: number, page: number, pageSize: number }

获取任务详情：
请求：GET /api/tasks/:id
返回：Task 对象

更新任务状态（暂停/继续）：
请求：PUT /api/tasks/:id
参数：{ status: 'paused' | 'active' }
返回：更新后的 Task 对象

删除任务：
请求：DELETE /api/tasks/:id
返回：{ success: boolean }

批量操作：
请求：POST /api/tasks/batch
参数：{ action: 'pause' | 'delete' | 'export', taskIds: string[] }
返回：{ success: boolean, affectedCount: number }

导出报告：
请求：GET /api/tasks/:id/export
参数：{ format: 'pdf' | 'excel' }
返回：文件二进制流

标注员提交：
请求：POST /api/tasks/:id/submit
参数：{ annotatorId: string }
返回：更新后的 Task 对象（包含提交状态）


十四、性能指标

页面加载时间：< 2秒
任务列表渲染：100条任务 < 2秒
搜索响应时间：< 500ms
筛选响应时间：< 500ms
详情弹窗打开：< 300ms
分页切换：< 1秒


十五、浏览器兼容性

Chrome 最新版本
Firefox 最新版本
Safari 最新版本
Edge 最新版本
移动浏览器（iOS Safari、Android Chrome）


十六、核心功能清单（P0）

基础功能：
✅ 任务列表展示（卡片视图）
✅ 任务搜索功能
✅ 任务筛选功能（状态、类型、数据类型、时间范围）
✅ 任务排序功能
✅ 分页功能（10/20/50/100条每页）
✅ 任务详情弹窗展示
✅ 基本信息Tab
✅ 进度详情Tab
✅ 提交情况Tab
✅ 标注员进度显示
✅ 提交状态标识（已提交/未提交）

状态管理：
✅ 任务状态流转（进行中、已完成、已暂停）
✅ 自动完成逻辑（所有人提交后）
✅ 暂停任务
✅ 继续任务
✅ 任务删除

操作功能：
✅ 快速操作菜单（查看、暂停、继续、删除）
✅ 批量选择
✅ 批量暂停
✅ 批量删除
✅ 批量导出

导出功能：
✅ 单个任务报告导出（PDF/Excel）
✅ 任务列表导出（Excel/CSV）

交互反馈：
✅ 加载状态提示
✅ 操作确认对话框
✅ Toast 提示反馈
✅ 空状态提示
✅ 错误处理

补充说明：
对于"数据统计"Tab（展示错误码分布等图表）和"周期管理"Tab（周期任务的执行历史），因为需要图表展示，请备注"[示例]需自行截图补充"，我手动补充截图。

